**포인터: 사용 범위를 벗어난 경우에도 데이터를 공유할 수 있게 도와준다.**

```c
#include <stdio.h>

int main(void)
{
	int a;			// 일반 변수 선언
}

int new_func(void)
{
	int a; 			// 변수는 선언된 함수 블록 {} 안에서만 사용되므로 두 a는 각각 다른 변수
}
```

### 주소 연산자, 포인터와 간접 참조 연산자

1. 주소: 변수가 할당된 메모리 공간의 시작 주소
    1. 주소 연산자: &
        
        주소 연산자를 사용해 변수에 할당된 메모리의 시작 주소를 확인하고 변수의 크기를 알아내면 변수가 메모리의 어디서부터 어디까지 할당되었는지 확인할 수 있다.
        
    2. 메모리 주소의 출력 변환 문자
        1. 주소는 보통 16진수로 표기
        2. 주소를 출력할 때는 전용 변환 문자인 %p를 사용하는 것이 좋다.
        3. %p는 주소값의 데이터 크기에 따라 자릿수를 맞춰 16진수 대문자로 출력한다.
2. 포인터: 변수의 메모리 주소를 저장하는 변수
    1. 포인터 선언: 변수 앞에 *를 붙여 준다.
    2. 포인터 연산자(*): 간접 참조 연산자라고도 한다.

```c
#include <stdio.h>

int main(void)
{
	int a;			// 일반 변수 선언
	int *pa;		// 포인터 선언 시 변수명 앞에 *를 붙임
	//int 형 변수의 주소를 저장하면 int를 사용하고, 
	//double 형 변수의 주소를 저장하면 double을 사용한다.

	pa = &a;		// 포인터에 a의 주소 대입, 포인터에 a의 시작 주소를 저장
	*pa = 10;		// 포인터로 변수 a에 10 대입

	printf("포인터로 a 값 출력 : %d\n", *pa);
	printf("변수명으로 a 값 출력 : %d\n", a);		// 변수 a 값 출력

	return 0;
}
```

```c
#include <stdio.h>

int main(void)
{
	int a = 10, b = 15, total;			// 변수 선언과 초기화
	double avg;							// 평균을 저장할 변수
	int* pa, * pb;						// 포인터 동시 선언
	int* pt = &total;
	double* pg = &avg;

	pa = &a;		// 포인터 pa에 변수 a의 주소 대입
	pb = &b;		// 포인터 pb에 변수 b의 주소 대입

	*pt = *pa + *pb; 	// a 값과 b 값을 더해 total 에 저장
	*pg = *pt / 2.0; 	// total 값을 2로 나눈 값을 avg 에 저장

	printf("두 정수의 값 : %d, %d\n", *pa, *pb); 	// a 값과 b 값 출력
	printf("두 정수의 합 : %d\n", *pt); 			// total 값 출력
	printf("두 정수의 평균 : %.1f\n", *pg); 		// avg 값 출력

	return 0;
}
```

1. 화살표 표현

```c
pa -> a
// 포인터 pa는 변수 a를 가르킨다.
// pa는 포인터이며 변수 a의 주소를 저장한다.
```

### const 를 사용한 포인터

```c
#include <stdio.h>

int main(void)
{
	int a = 10, b = 20;
	const int* pa = &a;				// 포인터 pa는 변수 a를 가리킨다
	printf("변수 a 값 : %d\n", *pa);

	pa = &b;						// 포인터가 변수 b를 가리키게 한다
	printf("변수 b 값 : %d\n", *pa);

	pa = &a;
	a = 20;							// a를 직접 참조해 값을 바꾼다.
	printf("변수 a 값 : %d\n", *pa);

	return 0;
}
```

1. 포인터에 사용된 const는 일반 변수처럼 포인터 값을 고정시키는 것이 아니다.
    
    pa는 const의 사용과는 무관하게 변수 b의 주소를 저장하고 그 값을 간접 참조해 출력하고 있다.
    
2. pa가 가리키는 변수 a는 pa를 간접 참조해 바꿀 수 없다는 의미
    
    즉 *pa=20; 과 같이 pa를 통해 a 값을 바꿀 수 없다.